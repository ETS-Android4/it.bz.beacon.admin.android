{
  "swagger": "2.0",
  "info": {
    "description": "An API to manage beacons of the Beacon Südtirol project.",
    "version": "1.0-beta",
    "title": "Beacon Südtirol API",
    "termsOfService": "API TOS",
    "contact": {
      "name": "Raiffeisen Online GmbH",
      "url": "https://www.raiffeisen.net",
      "email": "web@raiffeisen.net"
    },
    "license": {
      "name": "License of API",
      "url": "API license URL"
    }
  },
  "host": "localhost:8080",
  "basePath": "/",
  "tags": [
    {
      "name": "auth-controller",
      "description": "Auth Controller"
    },
    {
      "name": "beacon-controller",
      "description": "Beacon Controller"
    },
    {
      "name": "image-controller",
      "description": "Image Controller"
    },
    {
      "name": "issue-controller",
      "description": "Issue Controller"
    },
    {
      "name": "user-controller",
      "description": "User Controller"
    }
  ],
  "paths": {
    "/v1/admin/beacons": {
      "get": {
        "tags": [
          "beacon-controller"
        ],
        "summary": "View a list of available beacons",
        "operationId": "getListUsingGET",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Beacon"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/beacons/createByOrder": {
      "post": {
        "tags": [
          "beacon-controller"
        ],
        "summary": "Create a beacon",
        "operationId": "createUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "order",
            "description": "order",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Beacon"
              }
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/beacons/{beaconId}/images": {
      "get": {
        "tags": [
          "image-controller"
        ],
        "summary": "View a list of available beacons",
        "operationId": "getListUsingGET_1",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "beaconId",
            "in": "path",
            "description": "beaconId",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BeaconImage"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "post": {
        "tags": [
          "image-controller"
        ],
        "summary": "Create an image",
        "operationId": "createUsingPOST_1",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "beaconId",
            "in": "path",
            "description": "beaconId",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "file",
            "in": "formData",
            "description": "file",
            "required": true,
            "type": "file"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BeaconImage"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/beacons/{beaconId}/images/{id}": {
      "delete": {
        "tags": [
          "image-controller"
        ],
        "summary": "Delete an image",
        "operationId": "deleteUsingDELETE",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "beaconId",
            "in": "path",
            "description": "beaconId",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BaseMessage"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/beacons/{beaconId}/issues": {
      "get": {
        "tags": [
          "issue-controller"
        ],
        "summary": "View a list of available issues for the specified beacon ID",
        "operationId": "getListUsingGET_2",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "beaconId",
            "in": "path",
            "description": "beaconId",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "onlyUnresolved",
            "in": "query",
            "description": "onlyUnresolved",
            "required": false,
            "type": "boolean",
            "default": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BeaconIssue"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/beacons/{id}": {
      "get": {
        "tags": [
          "beacon-controller"
        ],
        "summary": "Search a beacon with an ID",
        "operationId": "getUsingGET",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Beacon"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "patch": {
        "tags": [
          "beacon-controller"
        ],
        "summary": "Update a beacon",
        "operationId": "updateUsingPATCH",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "beaconUpdate",
            "description": "beaconUpdate",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BeaconUpdate"
            }
          },
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Beacon"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/issues": {
      "get": {
        "tags": [
          "issue-controller"
        ],
        "summary": "View a list of available issues",
        "operationId": "getListUsingGET_3",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "onlyUnresolved",
            "in": "query",
            "description": "onlyUnresolved",
            "required": false,
            "type": "boolean",
            "default": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BeaconIssue"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "post": {
        "tags": [
          "issue-controller"
        ],
        "summary": "Create a issue",
        "operationId": "createUsingPOST_2",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "issueCreation",
            "description": "issueCreation",
            "required": true,
            "schema": {
              "$ref": "#/definitions/IssueCreation"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BeaconIssue"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/issues/{id}": {
      "get": {
        "tags": [
          "issue-controller"
        ],
        "summary": "Search a issue with an ID",
        "operationId": "getUsingGET_1",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BeaconIssue"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/issues/{id}/resolve": {
      "post": {
        "tags": [
          "issue-controller"
        ],
        "summary": "Update a issue",
        "operationId": "updateUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "body",
            "name": "issueSolution",
            "description": "issueSolution",
            "required": true,
            "schema": {
              "$ref": "#/definitions/IssueSolution"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BeaconIssue"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/users": {
      "get": {
        "tags": [
          "user-controller"
        ],
        "summary": "View a list of available users",
        "operationId": "getListUsingGET_4",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "post": {
        "tags": [
          "user-controller"
        ],
        "summary": "Create a user",
        "operationId": "createUsingPOST_3",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "userCreation",
            "description": "userCreation",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserCreation"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/v1/admin/users/{id}": {
      "get": {
        "tags": [
          "user-controller"
        ],
        "summary": "Search a user with an ID",
        "operationId": "getUsingGET_2",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "delete": {
        "tags": [
          "user-controller"
        ],
        "summary": "Delete a user",
        "operationId": "deleteUsingDELETE_1",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/BaseMessage"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      },
      "patch": {
        "tags": [
          "user-controller"
        ],
        "summary": "Update a user",
        "operationId": "updateUsingPATCH_1",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "body",
            "name": "userUpdate",
            "description": "userUpdate",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/v1/signin": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "summary": "signin",
        "operationId": "signinUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "*/*"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "data",
            "description": "data",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthenticationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/AuthenticationToken"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    }
  },
  "definitions": {
    "AuthenticationRequest": {
      "type": "object",
      "required": [
        "password",
        "username"
      ],
      "properties": {
        "password": {
          "type": "string"
        },
        "username": {
          "type": "string"
        }
      },
      "title": "AuthenticationRequest"
    },
    "AuthenticationToken": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      },
      "title": "AuthenticationToken"
    },
    "BaseMessage": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      },
      "title": "BaseMessage"
    },
    "Beacon": {
      "type": "object",
      "properties": {
        "batteryLevel": {
          "type": "integer",
          "format": "int32"
        },
        "description": {
          "type": "string"
        },
        "eddystoneEid": {
          "type": "boolean"
        },
        "eddystoneEtlm": {
          "type": "boolean"
        },
        "eddystoneTlm": {
          "type": "boolean"
        },
        "eddystoneUid": {
          "type": "boolean"
        },
        "eddystoneUrl": {
          "type": "boolean"
        },
        "iBeacon": {
          "type": "boolean"
        },
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "instanceId": {
          "type": "string"
        },
        "interval": {
          "type": "integer",
          "format": "int32"
        },
        "lastSeen": {
          "type": "integer",
          "format": "int64"
        },
        "lat": {
          "type": "number",
          "format": "float"
        },
        "lng": {
          "type": "number",
          "format": "float"
        },
        "locationDescription": {
          "type": "string"
        },
        "locationType": {
          "type": "string",
          "enum": [
            "OUTDOOR",
            "INDOOR"
          ]
        },
        "major": {
          "type": "integer",
          "format": "int32"
        },
        "manufacturer": {
          "type": "string",
          "enum": [
            "KONTAKT_IO"
          ]
        },
        "manufacturerId": {
          "type": "string"
        },
        "minor": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "namespace": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": [
            "OK",
            "BATTERY_LOW",
            "CONFIGURATION_PENDING"
          ]
        },
        "telemetry": {
          "type": "boolean"
        },
        "txPower": {
          "type": "integer",
          "format": "int32"
        },
        "url": {
          "type": "string"
        },
        "uuid": {
          "type": "string",
          "format": "uuid"
        }
      },
      "title": "Beacon"
    },
    "BeaconImage": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "url": {
          "type": "string"
        }
      },
      "title": "BeaconImage"
    },
    "BeaconIssue": {
      "type": "object",
      "properties": {
        "beacon": {
          "$ref": "#/definitions/Beacon"
        },
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "problem": {
          "type": "string"
        },
        "problemDescription": {
          "type": "string"
        },
        "reportDate": {
          "type": "string",
          "format": "date-time"
        },
        "reporter": {
          "type": "string"
        },
        "resolveDate": {
          "type": "string",
          "format": "date-time"
        },
        "resolved": {
          "type": "boolean"
        },
        "solution": {
          "type": "string"
        },
        "solutionDescription": {
          "type": "string"
        }
      },
      "title": "BeaconIssue"
    },
    "BeaconUpdate": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "eddystoneEid": {
          "type": "boolean"
        },
        "eddystoneEtlm": {
          "type": "boolean"
        },
        "eddystoneTlm": {
          "type": "boolean"
        },
        "eddystoneUid": {
          "type": "boolean"
        },
        "eddystoneUrl": {
          "type": "boolean"
        },
        "iBeacon": {
          "type": "boolean"
        },
        "instanceId": {
          "type": "string"
        },
        "interval": {
          "type": "integer",
          "format": "int32",
          "minimum": 100,
          "maximum": 10240,
          "exclusiveMinimum": false,
          "exclusiveMaximum": false
        },
        "lat": {
          "type": "number",
          "format": "float"
        },
        "lng": {
          "type": "number",
          "format": "float"
        },
        "locationDescription": {
          "type": "string"
        },
        "locationType": {
          "type": "string",
          "enum": [
            "OUTDOOR",
            "INDOOR"
          ]
        },
        "major": {
          "type": "integer",
          "format": "int32",
          "minimum": 0,
          "maximum": 65535,
          "exclusiveMinimum": false,
          "exclusiveMaximum": false
        },
        "minor": {
          "type": "integer",
          "format": "int32",
          "minimum": 0,
          "maximum": 65535,
          "exclusiveMinimum": false,
          "exclusiveMaximum": false
        },
        "name": {
          "type": "string"
        },
        "namespace": {
          "type": "string"
        },
        "telemetry": {
          "type": "boolean"
        },
        "txPower": {
          "type": "integer",
          "format": "int32",
          "minimum": 1,
          "maximum": 7,
          "exclusiveMinimum": false,
          "exclusiveMaximum": false
        },
        "url": {
          "type": "string"
        },
        "uuid": {
          "type": "string",
          "format": "uuid"
        }
      },
      "title": "BeaconUpdate"
    },
    "IssueCreation": {
      "type": "object",
      "required": [
        "beaconId",
        "problem",
        "reporter"
      ],
      "properties": {
        "beaconId": {
          "type": "integer",
          "format": "int64",
          "minimum": 0,
          "exclusiveMinimum": false
        },
        "problem": {
          "type": "string"
        },
        "problemDescription": {
          "type": "string"
        },
        "reporter": {
          "type": "string"
        }
      },
      "title": "IssueCreation"
    },
    "IssueSolution": {
      "type": "object",
      "required": [
        "solution"
      ],
      "properties": {
        "solution": {
          "type": "string"
        },
        "solutionDescription": {
          "type": "string"
        }
      },
      "title": "IssueSolution"
    },
    "Order": {
      "type": "object",
      "required": [
        "id"
      ],
      "properties": {
        "id": {
          "type": "string"
        }
      },
      "title": "Order"
    },
    "User": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "surname": {
          "type": "string"
        },
        "username": {
          "type": "string"
        }
      },
      "title": "User"
    },
    "UserCreation": {
      "type": "object",
      "required": [
        "email",
        "name",
        "password",
        "surname",
        "username"
      ],
      "properties": {
        "email": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "surname": {
          "type": "string"
        },
        "username": {
          "type": "string"
        }
      },
      "title": "UserCreation"
    },
    "UserUpdate": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "surname": {
          "type": "string"
        }
      },
      "title": "UserUpdate"
    }
  }
}